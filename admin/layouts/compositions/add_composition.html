<div class="admin_section_title" style="margin-top: 4%;">
    Добавление нового трека
</div>

<form action="../admin/compositions.php" method="post" name="add_track_form" enctype="multipart/form-data",>
    <div class="append_form_container">
        Название трека: <input type="text" name="track_title" class="text_input_field"><br>
        Исполнитель: <select name="track_author" class="list_input_field">
            AUTHORS
        </select><br>
        Жанр: <select name="track_genre" class="list_input_field">
            GENRES
        </select><br>
        <div class="image_input_container">
            <div class="image_title">
                <div style="height: 80%;">
                    Обложка трека: <br> <input type="file" id="track_cover" name="track_cover" class="image_input_field" onchange="displayImage()" value="../../../images/compositions/default.png"><br>
                </div>
            </div>
            <div class="image_cover">
                <img id="image-preview" src="../../../images/compositions/default.png">
            </div>
        </div>
        <br>
        <div style="display: flex; width: 100%; height: 10%; align-items: center;">
            <div style="width: 60%">
                Аудиофайл: <input type="file" id="track" name="track" class="track_input_field"><br>
            </div>
            <div class="admin_submit_button_container">
                <button type="submit" class="admin_submit_button">Добавить трек</button>
            </div>
        </div>
    </div>
</form>

<script>
    function displayImage() {
      var preview = document.querySelector('#image-preview');
      var file = document.querySelector('#track_cover').files[0];
      var reader = new FileReader();
  
      reader.addEventListener("load", function () {
        preview.src = reader.result;
      }, false);
  
      if (file) {
        reader.readAsDataURL(file);
      }
    }
  </script>